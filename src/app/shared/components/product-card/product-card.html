<div class="product-card group gutter-row p-4 rounded-lg cursor-pointer w-full min-w-[214px]">
  <div class="group aspect-square relative">
    <div class="badge absolute left-2 top-4 z-40 discount w-full justify-between flex pr-4">
      <span
        [class.opacity-0]="product.price === product.originalPrice"
        class="flex items-center justify-center items-center h-6 px-3 rounded-xl bg-red-400 text-white font-bold"
        >-
        {{ this._productsService.calculateDiscount(product.originalPrice, product.price) }}%</span
      >
      <span
        (click)="$event.stopPropagation(); addToFavorites(product)"
        [class.hidden]="!isFavorite"
        [class.group-hover:flex]="!isFavorite"
        class="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center transition-all duration-200 hover:bg-gray-950"
        style="margin-top: -8px"
        >
        <lucide-angular [img]=" isFavorite? heartOff : heart" [size]="16" class="text-white"></lucide-angular>
      </span>
    </div>
    <img
      [src]="product.image_url"
      [alt]="product.name"
      class="relative h-full w-full object-cover transition-transform duration-300 group-hover:scale-105 mb-4 rounded-lg"
    />
    <!-- <button class="absolute bottom-28 w-full left-1/2 transform -translate-x-1/2 bg-gray-900 py-2 px-4 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center gap-2">
                  <span class="text-white font-bold text-sm">
                    Comprar r√°pido
                  </span>
                </button> -->
  </div>

  <div class="product-info w-full mt-8">
    <p class="text-xs font-normal text-[#808080]! tracking-wider m-0 p-0">
      {{ ProductCategoryLabels[product.category].toUpperCase() }}
    </p>
    <h4 nz-typography class="sm:text-nowrap" id="productTitle" class="dark:text-white!">{{ product.name }}</h4>
    <div class="flex gap-2 items-baseline">
      <h4 nz-typography class="sm:text-nowrap font-bold dark:text-white!" id="currentPrice">
        {{ _productsService.formatPrice(product!.price) }}
      </h4>
      <span
        *ngIf="product.originalPrice !== product.price"
        nz-typography
        nzType="secondary"
        class="text-sm text-[#808080]! line-through sm:text-nowrap tracking-tight"
        id="originalPrice"
        >{{ _productsService.formatPrice(product!.originalPrice) }}</span
      >
    </div>
  </div>
</div>
